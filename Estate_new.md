# Developing a Comprehensive Estate Planning Module for Affluvia

## Introduction: Why Integrate Estate Planning Fully into Affluvia

Estate planning is a crucial component of holistic financial planning, ensuring a client’s wealth is transferred according to their wishes while minimizing taxes and providing for loved ones. In fact, **84% of financial advisors include estate planning in client plans** (and the majority handle it internally)[\[1\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=According%20to%20the%20Kitces%20Report,respondents%20handling%20this%20service%20internally). Modern financial planning software (e.g. eMoney, MoneyGuide, RightCapital) all emphasize estate planning as part of a **comprehensive platform**, not a standalone afterthought[\[2\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=RightCapital)[\[3\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=eMoney). To meet professional standards and client needs, Affluvia’s estate module should evolve from a static summary of current assets to a dynamic, integrated system that **links with retirement projections, tax planning, insurance, and client goals**. This detailed plan outlines how to achieve a robust U.S.-focused estate planning section that accounts for all these factors, drawing on best practices from leading software and estate planning principles.

## Current State of Affluvia’s Estate Planning Section

**Affluvia’s current estate planning implementation is primarily driven by intake form data (current assets and liabilities)**. Upon creating an estate plan, Affluvia calculates a “total estate value” as current total assets (including home equity) minus liabilities[\[4\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L289-L298). This snapshot is used to establish an initial estate plan record[\[5\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L301-L308). The system also automatically records whether the user already has key estate documents (will, trust, power of attorney, healthcare directive) and sets the spouse as 100% primary beneficiary if applicable[\[6\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L310-L318)[\[7\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L350-L358). Essentially, the module focuses on *today’s* net worth and basic estate documents.

While the current design ensures the basics (document checklist and beneficiary designation) are captured, it **does not yet integrate the forward-looking aspects of the financial plan**. For example, Affluvia’s retirement planning engine performs Monte Carlo simulations and tax analyses to optimize retirement success probability, potentially altering the assets remaining at death – but the estate section doesn’t fully leverage those outputs. Instead, it assumes a flat growth on current net worth for a fixed period: by default, the code projects the estate by compounding the current net worth at an assumed appreciation rate (e.g. 5%) until an expected year of death[\[8\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L154-L162), then subtracts any modeled gifts or trust transfers. This simplified approach means **any dynamic retirement decisions (e.g. drawdown strategies, Roth conversions) that affect the ending asset value aren’t reflected** in the estate analysis. The result is a disconnect: the estate module might calculate taxes on a projected estate that doesn’t match the actual assets the retirement plan says the client will have.

To build a truly comprehensive estate planning section, we need to bridge this gap. The following sections detail the enhancements required – from integrating retirement projections and Roth conversion impacts, to adding sophisticated estate planning features (tax calculations, trust and gifting strategies, visualizations, checklists, etc.) similar to those in professional tools. Our goal is an estate module that not only shows *current* asset disposition, but also adapts to the client’s *future* financial trajectory and planning strategies, all while being user-friendly for a broad range of users (from average families to high-net-worth individuals across all U.S. states).

## Integrate Retirement Projections into the Estate Plan

**1\. Use Dynamic Projected Assets at Death:** The estate analysis should draw on the retirement planning projections (e.g. Monte Carlo or deterministic cash-flow models) to determine the *expected value of assets at the end of the plan (life expectancy)*, rather than a simplistic growth of today’s assets. MoneyGuide’s software, for example, is *“fully integrated with Goal Planning, illustrating how funding trusts and gifting strategies will affect the Goal Plan”*[\[9\]](https://www.moneyguidepro.com/ifa/home/faqs#:~:text=,will%20affect%20the%20Goal%20Plan). In Affluvia, this means if the retirement module projects that the client will have, say, $5M at age 90 under the current plan (or a range of outcomes), that figure (or a selected percentile) should feed into the estate tax and inheritance calculations.

By integrating in this way, the estate module can answer questions like: *“If I follow my retirement plan, how much will be left for my heirs?”* and *“Does my retirement spending or saving strategy need adjustment to meet my legacy goals?”* This aligns with industry best practices: eMoney and RightCapital include estate planning *within* the broader financial plan so that legacy outcomes are part of the overall picture[\[2\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=RightCapital)[\[10\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=,visualizations). Concretely, we will modify Affluvia’s estate calculations to accept **input from the retirement engine** – for example, the projected end-of-plan net worth from the Monte Carlo median scenario or a user-specified confidence level. This replaces the fixed 5% growth assumption currently used[\[8\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L154-L162) with a personalized projection based on the client’s plan (which factors in withdrawals, Social Security, etc.). We will still allow a default growth assumption for quick estimates, but prominently offer the *“Use Plan Projection”* option to tie the estate analysis to the actual plan data.

**2\. Account for Changing Asset Levels Due to Plan Optimizations:** When the user adjusts their retirement plan (e.g. deciding to work 2 years longer, or spend less to raise success probability), the estate results should update accordingly. For instance, an aggressive drawdown plan might leave a smaller estate, whereas a conservative spending plan could leave a large surplus. Affluvia will treat the retirement plan and estate plan as linked scenarios. In practical terms: whenever the retirement module’s output changes the forecasted ending assets, we recalc the estate tax and inheritance results. This ensures **consistency** – users see that *retirement and estate outcomes are two sides of the same coin*. Integrating these also helps identify trade-offs (e.g. *“If you want to leave $X to heirs, you may need to either save more or reduce retirement spending.”*).

**3\. Accommodate Life Expectancy and Scenario Variations:** We should allow flexibility in the assumed death age or scenario. RightCapital’s estate tools let advisors adjust *“planning horizon… and compare with current situation to see tax impact and amount received by heirs”*[\[11\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=flow%20from%20the%20client%20to,the%20amount%20received%20by%20heirs). In Affluvia, we can let the user/advisor toggle scenarios such as death at different ages or an earlier death of one spouse, and see the outcomes (this involves running the projection to that point). While the primary integration is with the main plan’s longevity assumption, giving the ability to model “what-if” (e.g. passing at age 80 vs 95\) can be valuable for testing estate outcomes under various conditions. This will also cover cases like **spouse survivorship**: if one spouse dies, the plan may assume the surviving spouse continues; the estate module should model first death vs second death scenarios (including **portability** of the federal exemption if first spouse dies). Affluvia’s calculation already has a flag for portability and DSUE (deceased spouse’s unused exemption)[\[12\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L182-L190); we’ll build on that by letting users specify order of death or automatically computing the optimal use of each spouse’s exemption in married cases.

In summary, integrating retirement projections ensures the estate plan isn’t an isolated static report, but a living part of the financial plan. This addresses the current shortcoming where estate planning in Affluvia was based only on intake net worth[\[4\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L289-L298), by making it responsive to the client’s evolving plan and longevity assumptions.

## Incorporate Roth Conversions and Distribution Strategies

**1\. Reflect Roth Conversion Strategies in Estate Outcomes:** Affluvia already includes a Roth conversion optimizer (to fill tax brackets, avoid future RMD spikes, etc.). Implementing those strategies can materially change the composition and size of assets at death. For example, converting a Traditional IRA to a Roth reduces the account value now (tax paid up front) but yields a tax-free Roth that can grow and be bequeathed without income tax to heirs. We need the estate module to **recognize when Roth conversion strategies are in play** and adjust the analysis of assets left to heirs.

Concretely, if a user has run the Roth conversion analysis and decided to convert, say, $500k of their IRA over the next few years, the retirement projection will already show a slightly lower total (due to taxes paid) but more in Roth assets by the end. The estate plan should then differentiate between taxable (traditional) retirement accounts and tax-free Roth assets among the assets at death. One implication: **heirs’ tax burdens**. While estate tax is levied on total value (whether IRA or Roth), **inherited traditional IRAs carry income tax for heirs** (under the SECURE Act, typically withdrawals over 10 years), whereas Roth IRAs do not. Our estate planning section can add value by illustrating this difference. For instance, we can show a comparison: *Scenario A: No Roth conversions – heirs inherit $X in IRAs (which will be taxable to them) vs. Scenario B: Roth conversions done – heirs inherit $Y in Roth (tax-free)*, and perhaps quantify the heirs’ after-tax inheritance in each scenario. This goes beyond just estate tax and looks at **overall tax efficiency of the legacy**.

In implementation, after a user runs a Roth conversion plan, we will tag their accounts in the projection (Affluvia’s engine likely already models separate account types through time). The estate module will then sum up Roth vs traditional vs other assets at death. We might incorporate a calculation of the **“Inherited IRAs Tax Drag”** – essentially an estimate of income taxes heirs would pay on traditional accounts (perhaps by assuming heirs’ tax brackets or a simple 25% flat for illustration). This would highlight the benefit of conversions or lifetime tax payments. Such integration is in line with RightCapital’s approach: they let advisors *“model how to spend down retirement distributions in a tax-efficient manner… with options to fill up tax brackets… (including Roth conversions) so clients receive the maximum amount at times when taxes are lowest”*[\[13\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=Maximize%20tax%20efficiencies). By showing how those strategies increase net legacy, we reinforce the value of Affluvia’s tax planning features.

**2\. Bracket Filling and Timing Considerations:** Since Roth conversions often aim to exploit known tax law changes (e.g., the 2026 reversion of tax brackets), the estate module should be flexible to handle changing tax regimes. Affluvia’s internal blueprint already emphasizes legislative adaptability – it maintains separate tax tables pre-2026 vs post-2025 for income and estate tax rules[\[14\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/roth_conversion_algorithm.md#L41-L50)[\[15\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/roth_conversion_algorithm.md#L51-L54). We will ensure the estate tax exemption and rate in our calculations automatically update in 2026 (when the federal exemption is set to drop roughly in half). Additionally, any state estate tax thresholds set in code (like Massachusetts $1M, etc. in our current config[\[16\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L60-L67)[\[17\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L86-L94)) should be kept current. This ensures our Roth conversion and estate calculations remain accurate over time. For example, a conversion strategy might aim to reduce a future estate that could exceed a lowered exemption; our module would correctly predict that scenario.

**3\. Distribution Order and Beneficiary Impacts:** Aside from Roth conversions, other retirement distribution decisions affect the estate. For example, if a client plans to *“spend down taxable assets first and preserve retirement accounts for bequest,”* that would leave a larger IRA or Roth at death. Alternatively, someone might purchase an annuity or accelerate spending (leaving less to heirs). Our estate planning UI can allow users (or assume from plan defaults) to specify **legacy goals or spending assumptions** – e.g., *“I want to leave at least $200k to each child”* – and then check that against the plan. This essentially creates a feedback loop: if a legacy goal isn’t met, the plan might need adjustment (which we could flag). MoneyGuide, being goal-based, allows advisors to mark legacy as a goal or show how certain strategies increase the estate for heirs[\[9\]](https://www.moneyguidepro.com/ifa/home/faqs#:~:text=,will%20affect%20the%20Goal%20Plan). We can implement something similar: treat a desired estate amount as a “goal” and incorporate it into the success metrics (for instance, Monte Carlo success that includes meeting the legacy goal).

**Bottom line:** All retirement distribution and conversion tactics should be **viewed through the estate lens** as well. Affluvia’s comprehensive estate section will automatically account for these by pulling the final account balances by type from the projection, and by offering scenario comparisons (no conversion vs conversion, different withdrawal sequences, etc.). This ensures that features like Roth conversion – which *“may lead to change in value of assets at death”* (as the prompt notes) – are fully reflected in the estate outcomes.

## Advanced Estate Tax Calculations (Federal & State)

**1\. Federal Estate Tax Integration:** Affluvia’s current calculation includes federal estate tax logic, applying the federal exemption and tax rates. The code uses the 2024 exemption ( \~$13.61M per person) and computes tax on the excess at progressive rates up to 40%[\[18\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L19-L28)[\[19\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L188-L196). We will verify this stays updated for future law changes (e.g., \~ $6 million exemption in 2026 if law sunsets; possibly adjust via a central tax table as mentioned). Our module will clearly display **“Taxable Estate, Federal Exemption Used, Federal Estate Tax Due”**, and importantly incorporate **portability** for married couples (i.e. if one spouse dies and doesn’t use all exemption, the remainder transfers). The current code already has a portability flag and DSUE amount usage[\[12\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L182-L190) – we will expose these in the UI so that if the user models the first spouse’s death, the second spouse’s exemption is adjusted. This ensures accuracy in scenarios like classic *“A/B trust” (bypass trust)* arrangements, where the goal is to use both spouses’ exemptions.

**2\. State Estate/Inheritance Taxes:** Estate planning must account for state-level death taxes where applicable. Not all states have them, but **12 states plus D.C. impose estate taxes, and a few have inheritance taxes**. Affluvia’s code already includes a configuration for certain state estate taxes (e.g. IL, NY, MA with their lower exemptions around $1–5M)[\[20\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L56-L64)[\[17\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L86-L94). We should complete this coverage for all relevant states and maintain it. This means adding any missing states (for example, Washington state is included at $2.193M & 20%[\[21\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L108-L115), but we should ensure inclusion of others like Oregon, Minnesota, etc., which are present). For inheritance tax (e.g. Pennsylvania, Nebraska, etc.), we might include a simplified approach since inheritance tax depends on recipient relationship – perhaps assume linear descendants vs others. A thorough implementation could allow the user to specify state and relationships of heirs to estimate inheritance tax if any.

**3\. Gift Tax and Lifetime Exclusion Tracking:** A comprehensive estate plan deals with the **unified gift and estate tax system**. Affluvia’s model already allows input for lifetime gifting amounts and annual gifts that reduce the estate[\[22\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L158-L166). We will enhance this by clearly showing how much of the **lifetime gift exemption** has been used. For example, if the user indicates they have already used $3M of their lifetime exemption through past gifts (or we simulate large gifts in a strategy), the remaining exemption for estate tax is reduced. The UI can present: “Lifetime Exemption Used: $X, Remaining Exemption: $13.61M – X”. Likewise, if annual gifts are being modeled (using the annual exclusion, e.g., $17k per donee per year in 2024), we incorporate those as reducing the estate *and* we might show whether they stay within tax-free limits or might incur gift tax.

For most users, gift tax won’t be triggered unless they exceed the lifetime exemption, but high-net-worth clients may consider gifting to reduce the taxable estate. Our module should support strategies like *“What if I gift $Y each year to my heirs – how does that cut my estate tax?”* (and reflect any gift taxes if extreme). This ties into scenario modeling below.

**4\. Scenario Modeling for Tax Reduction:** We will use the **scenario comparison** ability (already in code via compareScenarios which computes tax savings and net-to-heirs increase[\[23\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L230-L239)[\[24\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L240-L249)) to let the user/advisor test estate tax mitigation ideas. For instance, a scenario could be “Current Plan vs. Alternate Plan with gifting and trusts” and the output would show *“Estate tax saved: $X (Y%), Net to heirs increased by $Z (W%)”*. This is a powerful way to **quantify the benefit of estate planning strategies**, much like professional tools do. RightCapital’s estate module, for example, allows adjusting variables like gifts, DSUE, etc., and then comparing outcomes to see potential tax savings[\[11\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=flow%20from%20the%20client%20to,the%20amount%20received%20by%20heirs). Affluvia can present side-by-side charts or tables for Base vs. Strategy scenario. For clarity, we could label scenarios (e.g., *“No Trusts/Gifts”* vs *“With Trust & Gifting”*).

**5\. Keep It Current and Client-Friendly:** We’ll ensure these tax calculations are not just correct, but explained in user-friendly language. For instance, if an estate is under the federal exemption, the interface might say “No federal estate tax estimated (estate below $\[exemption\] threshold)” – this reassures most users whose estates are modest. For states, if the client’s state has no estate tax or their estate is below that threshold, mention that too. Conversely, if estate tax is triggered, clearly outline *“Estimated Federal Estate Tax \= $X; Estimated \[State\] Estate Tax \= $Y; Net to Heirs \= $Z”*. Using intuitive visual cues (like a pie chart of estate going to taxes vs heirs) can drive the point home. Intuitive **visualizations** are a priority noted by industry: advisors look for tools that turn complex tax calculations into easy charts[\[25\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=,charts%20and%20diagrams%20for%20clients)[\[26\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=Key%20Estate%20Planning%20Features). We’ll incorporate charts for the estate tax breakdown and maybe the estate value growth to that point.

By bolstering the tax calculation component, Affluvia’s estate planning will be accurate across jurisdictions and time, and set the stage for discussing advanced strategies (trusts, insurance) in context of these tax implications.

## Trusts and Gifting Strategies Module

**1\. Support Modeling of Common Trusts:** Trusts are a cornerstone of estate planning for larger or more complex estates. Professional software allows advisors to model various trust strategies – RightCapital notes that they support *“different trust types such as Charitable Lead Trust, Spousal Lifetime Access Trust, Grantor Retained Annuity Trust, and more,”* and can simulate how a trust *“impacts assets passed to heirs, total estate taxes paid, and retirement income stability”*[\[27\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=Over%20the%20last%20few%20years%2C,changes%20to%20retirement%20income%20stability). For Affluvia’s scope (no automatic document generation, but planning analysis), we should at least implement the modeling of key trust *functions*:

* **Bypass Trust / Credit Shelter Trust:** Common for married couples to fully use both exemptions. In the app, this could be a toggle like “Use Bypass Trust at first death” which effectively means when first spouse dies, up to the exemption is put in a trust for heirs (often children) and not counted in the surviving spouse’s estate. In calculation terms, this scenario would use the first death’s exemption separately instead of relying on portability. We can model that by subtracting an amount equal to the first exemption from the second death’s taxable estate. The result shows reduced tax at second death, and assets in trust going to heirs directly. MoneyGuide’s estate features explicitly *“show how By-Pass Trusts… increase liquidity, save taxes, and provide larger estates to heirs”*[\[28\]](https://www.moneyguidepro.com/ifa/home/faqs#:~:text=,will%20affect%20the%20Goal%20Plan) – we will emulate that by making it easy to see the difference with vs without a bypass trust in our scenario comparisons.

* **Irrevocable Life Insurance Trust (ILIT):** Life insurance is often used to provide liquidity for estate taxes or to support heirs. If the insurance policy is owned by an ILIT, its proceeds are outside the taxable estate. In Affluvia, we can allow the user to input a life insurance policy (or a proposed new policy) and mark it “inside ILIT” vs personal. If inside a trust, our estate calculation should *exclude the death benefit from the taxable estate*, but still count it as net to heirs (since they’ll receive it). We also then consider that policy premiums might be gifts to the trust (using annual exclusion). The outcome to show: **with ILIT, estate tax is lower (or liquidity is improved) and heirs still get insurance proceeds tax-free**. This addresses the liquidity issue – more on insurance below, but from a trust modeling perspective, ILIT is key.

* **Grantor Trusts for Gifting (GRATs, SLATs, etc.):** We may not simulate all the complex variations in a consumer app, but we can capture the essence: a user could input a strategy like *“transfer $X into a trust now”* (GRAT/SLAT effectively) which removes those assets (and future appreciation) from the estate. In our calculations, we already have a mechanism to subtract “trustFunding” amounts from the gross estate[\[29\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L164-L172). We’ll enhance the UI to let the user enter one or multiple trust contributions. For example, *“Move $1M into a irrevocable trust in 2025”*. We then remove $1M (and perhaps its hypothetical growth) from the estate calculation. Our scenario compare will show the reduction in estate tax and change in net to heirs (the heirs would get that $1M via the trust outside of estate tax). We can pre-configure some templates: e.g., *“Spousal Lifetime Access Trust (transfer $X now to benefit spouse and kids)”*, *“Charitable Remainder Trust (charitable legacy with income retained)”*, etc., with assumed effects on estate.

* **Charitable Bequests and Trusts:** Charitable giving can greatly reduce estate tax since donations at death are generally deductible from the estate. Affluvia should allow users to designate either a percentage or amount of the estate to charity (or a charity trust). If a user plans to leave 10% to charity or set up a charitable remainder trust (CRT), we can model that by deducting that portion from the taxable estate (and possibly show how it provides an income stream if CRT, though that might be beyond our scope). At minimum, a “Charitable bequest of $X” input would subtract $X from taxable estate (up to the limit of the estate). This ties in with RightCapital’s mention of modeling charitable gifts in the data-entry and seeing the effect on tax and legacy[\[30\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=Support%20important%20causes).

**2\. Track Existing Trusts:** The intake might include if the user already has certain trusts (the code creates an estate document record if profile.hasTrust is true[\[31\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L318-L326), presumably for a revocable living trust). We should expand on that: a *revocable living trust (RLT)* doesn’t save estate taxes (since assets are still in estate) but is used for probate avoidance and management. Our estate module can note if assets are in an RLT (perhaps via titling data) and still include them in estate value, but we can flag that probate will be avoided (just an FYI feature). For irrevocable trusts, any assets already in them should ideally be excluded from the estate calculation. If the user lists an account as owned by an irrevocable trust, we should not count it in gross estate for tax.

To implement this, we might allow marking an asset’s ownership as “trust” (we already parse asset type and ownership in the overview[\[32\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/components/estate/estate-overview.tsx#L112-L121)[\[33\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/components/estate/estate-overview.tsx#L124-L132)). If an asset is marked as in an irrevocable trust, we exclude it from the estate taxable total. We should, however, list it in the estate overview as “Out-of-Estate Assets in Trust” because though not taxed, it’s part of their legacy plan. RightCapital similarly *“illustrates out-of-estate assets, such as trusts and charitable gifts, which may provide tax relief”*[\[34\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=We%20are%20big%20fans%20of,the%20amount%20received%20by%20heirs) in their flowchart. We will mirror that clarity.

**3\. Gifting Strategies:** Affluvia already supports modeling annual gifts (annualGiftAmount) and one-time lifetime gifts (lifetimeGiftAmount) in the estate assumptions[\[22\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L158-L166). We will create a user interface around this so advisors/clients can explore *“What if I gift $15,000/year to each child?”* or *“What if I immediately gift my $2 million vacation home to my children?”*. The system will then apply those gifts: \- Annual gifts: subtract total given from estate (as currently coded) and potentially reflect that these fall under the annual exclusion (so no tax impact unless exceeding it greatly). \- Large gifts: subtract from estate and reduce remaining lifetime exemption (if within $12.92M per person for 2023–2025, otherwise if over, could theoretically incur gift tax, which we might simply note but not delve into actual gift tax calculation for simplicity).

MoneyGuide highlights that their system *“shows how gifting increases liquidity, saves taxes, and provides larger estates to heirs”*[\[35\]](https://www.moneyguidepro.com/ifa/home/faqs#:~:text=,will%20affect%20the%20Goal%20Plan). We will do the same: for example, if a client is projected to have an estate well above the exemption, we can illustrate that making lifetime gifts (thus using the exemption while alive or at least moving growth out of the estate) will reduce the eventual tax and possibly allow more net to heirs (since growth on gifted assets happens outside the estate). Our compare scenario might show an outcome: *No gifting: $30M gross estate \-\> $X tax, vs With gifting $5M now: $25M estate \-\> lower tax, plus $5M already with heirs (or in trust) which can grow for them.* This holistic view underscores how gifting can “give more to heirs and less to IRS.”

**4\. User Interface for Strategies:** We will create an **Estate “What-If” toolkit** where the user can toggle these strategies: \- **Bypass Trust on first death** (Yes/No or automatic if married and estate \> exemption). \- **Add Irrevocable Trust** (enter amount to transfer, and maybe choose type from a dropdown for description). \- **Life Insurance in ILIT** (enter death benefit and premium; see effect on taxes and liquidity). \- **Annual Gifting** (enter per year per person, or a total per year). \- **One-time Gift** (enter amount and year). \- **Charitable Bequest** (enter amount or %).

Each input immediately or upon running analysis updates the estate tax calculation. The results can be shown in a summary panel and graph, and the user can save scenarios (thanks to the EstateScenario API in the code[\[36\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L227-L237)[\[37\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L244-L253) which allows creating multiple estate scenarios for a plan). The application will therefore support multiple saved estate planning scenarios (e.g., *“Status Quo”*, *“Gift to kids \+ ILIT”*, *“Charity heavy”* etc.) that advisors can flip through to compare outcomes for the client.

Importantly, we’ll connect this back to the **retirement plan integration**: whenever a trust or gifting strategy involves removing assets from the client’s ownership, we must loop that into the retirement projection (since giving away assets or putting them in an irrevocable trust means those assets might not be available to fund retirement). MoneyGuide’s integrated approach emphasizes that funding trusts or gifting will reflect in the goal plan[\[38\]](https://www.moneyguidepro.com/ifa/home/faqs#:~:text=,will%20affect%20the%20Goal%20Plan) – we will do the same. For example, if a user models gifting $1M now, the retirement plan engine should run a scenario with $1M less in the portfolio to see if the retirement goal still succeeds. We can then perhaps alert if a gifting strategy jeopardizes retirement security (e.g., “Warning: This gifting strategy may cause your retirement plan to fail by age 85”). This ensures we are not recommending estate moves in a vacuum.

## Beneficiary Designations and Asset Flow Visualization

**1\. Beneficiary Tracking:** A fundamental yet non-technical aspect of estate planning is **ensuring beneficiaries are correctly designated on accounts** (since those override wills). Affluvia already creates a default beneficiary (spouse 100%)[\[7\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L350-L358) and presumably allows adding others (the EstateBeneficiary model exists). We should enhance this to a full **Beneficiaries section** where the user can list all beneficiaries (spouse, children, others, charities) and assign them to assets or overall estate percentages. Ideally, we integrate with the actual account data: e.g., for each retirement account or life insurance policy entered, allow the user to specify primary and contingent beneficiaries.

At the very least, our estate module can maintain a beneficiary list with distribution intentions (e.g., “Spouse 100% primary; if spouse predeceases then equally to Child A and Child B”). eMoney’s estate planning functionality supports *“primary and contingent beneficiary”* designations and conditional bequests based on death order[\[39\]](https://emoneyadvisor.com/blog/product_info/emoney-estate-planning-functionality/#:~:text=heirs%20or%20charity,Estate%20Planning%20Functionality). We will incorporate that logic: our UI might allow a tree structure – who gets what if both spouses die versus if one is alive, etc. This ensures clarity in the plan.

**2\. Visualize Asset Flow (Estate Flowchart):** To help users grasp the estate distribution, we will create a visual flowchart or diagram. RightCapital’s software includes an *“Estate flowchart which demonstrates how assets will flow from the client to a surviving spouse and then to heirs, including federal taxes taken out”*[\[40\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=Visualize%20the%20flow%20of%20estate,assets). We can mimic this: for example, a diagram box for “Client’s total estate $X” split into arrows to “Surviving Spouse” and to “Trusts/Heirs/Charity/Taxes” depending on the scenario. If married, one flow shows first death: X goes to spouse (tax-free) versus to others, then second death: remaining to kids minus taxes. If single, it just goes to heirs/charity minus taxes. Such a visualization makes the *flow of wealth* intuitive.

Additionally, including out-of-estate transfers: for example, *“$2M to ILIT (not subject to estate tax)”*, *“$500k charitable bequest (tax deductible)”* in the chart with separate arrows. The goal is to produce a **clear legacy visualization** that clients can easily follow (showing who gets what and how much the IRS gets). This will differentiate Affluvia with a client-friendly output, addressing the industry priority for *“intuitive visualizations that translate complex estate structures into easy charts”*[\[25\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=,charts%20and%20diagrams%20for%20clients).

**3\. Periodic Reviews and Updates:** We will incorporate features to encourage regular beneficiary reviews. For example, the estate module could flag if it’s been a long time since last update or if there’s a known life event (maybe from the profile, like new child?). RightCapital suggests reviewing beneficiaries whenever families change[\[41\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=Families%20are%20always%20changing%20so,updates%20within%20the%20beneficiary%20section). We can implement a simple reminder or notification: *“It’s been over a year since you reviewed your beneficiaries. Life changes (birth, death, marriage, divorce) may require updates.”* Ensuring up-to-date beneficiaries prevents misallocation (we might cite an example in content to emphasize its importance, as one CFP wrote: designations supersede wills, so they must align with the plan[\[42\]](https://www.brightonjones.com/blog/basic-estate-planning/#:~:text=)[\[43\]](https://www.brightonjones.com/blog/basic-estate-planning/#:~:text=To%20avoid%20discrepancies%20and%20ensure,and%20preserves%20any%20trust%20planning)).

**4\. Multi-Generational and Contingent Planning:** For users with complex families (e.g. children from a prior marriage, grandchildren), the estate tool should handle splitting assets in custom proportions. We’ll allow the user to specify, for instance, “Spouse gets 50% of Account A, children split 50%” or “If spouse is not alive, everything to children equally” etc. This might be more descriptive than calculative in the app (since the actual calculations of estate tax don’t change with who specifically gets it, aside from potential state inheritance tax differences). However, showing these contingencies is valuable for completeness. We might not simulate every contingent chain but ensure the data model (EstateBeneficiary) can store a contingent relationship (it has isPrimary flag already, perhaps we add linking to another beneficiary as contingent).

**5\. Integration with Titling (Probate vs Non-Probate):** A related aspect: assets with named beneficiaries (retirement accounts, life insurance, TOD accounts) pass outside probate, whereas a will covers the rest. In our estate flow, we can denote which assets transfer via beneficiary vs via will. For example, if the user has a revocable trust, assets titled in it avoid probate as well. While the app won’t draft documents, it can inform the user: *“X% of your assets are set to transfer via beneficiary designation or trust directly. Y% would go through your will (probate). Consider funding your revocable trust or adding TOD designations to avoid probate delays.”* These educational tips position Affluvia not just as a calculator but a coach, echoing best practices estate attorneys and CFPs advise (e.g., retitling assets into a trust after creating one[\[44\]](https://www.brightonjones.com/blog/basic-estate-planning/#:~:text=)[\[45\]](https://www.brightonjones.com/blog/basic-estate-planning/#:~:text=Failing%20to%20retitle%20these%20assets,for%20future%20generations%20is%20essential)). It’s important to note that avoiding probate and aligning asset titling can be as critical as the documents themselves.

By thoroughly handling beneficiary designations and asset flow, we address both the quantitative and qualitative sides of estate planning: not just *how much* goes to heirs, but *to whom, how, and under what conditions*.

## Estate Documents and Task Checklist

**1\. Essential Documents Checklist:** A comprehensive estate plan isn’t just numbers – it requires certain legal documents. Since Affluvia’s design avoids generating documents directly (per requirements), our focus is on **tracking and prompting**. We have the basics in place: when a user creates an estate plan, the system can note if they have a will, trust, POA, healthcare directive from the intake profile[\[6\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L310-L318)[\[46\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L328-L336). We should expose this in the UI as a **checklist**. For example:

* ✅ Will (Last Will and Testament) – *On file, last updated 2018* (if user provided date or just status “executed”).

* ⚠️ Living Trust – *Not in place. Consider if a revocable trust is appropriate to avoid probate.*

* ✅ Financial Power of Attorney – *Completed.*

* ⚠️ Healthcare Directive – *Not on file.*

* ⚠️ Beneficiary designations – *Review needed: 1 account missing beneficiary* (we can detect if any account has no beneficiary in our data).

This checklist approach matches what RightCapital’s estate module does: it *“keep\[s\] track of the creation, names, and dates of important documents such as a will, POA, living will, health care proxy… Finalized documents can be stored in the Vault”*[\[47\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=It%20is%20important%20for%20clients,securely%20within%20RightCapital%E2%80%99s%20Vault%20feature). Affluvia can similarly allow users to upload or store their executed documents (perhaps using an encrypted storage vault). Even if we don’t store the actual PDFs, just recording that they exist and when last updated is valuable.

**2\. Guidance and Explanations:** For each document/task, we provide a brief description or tip (especially for users not familiar with them). E.g., hovering over “Will” could show: *“A will directs how assets in your name will be distributed at death and can name guardians for minor children.”* If something is missing, a tooltip might say: *“Without a will, state law will determine your heirs, which may not align with your wishes. It’s highly recommended to have a will in place.”* This is where we incorporate **estate planning principles from attorneys/CFPs**: such as the importance of these documents to avoid intestacy, name guardians, handle incapacity, etc. We can source standard advice: e.g., *“Ensure plans for your family are set (e.g. naming guardians for minors)”*, *“Set up legal directives (powers of attorney and healthcare proxies) so someone can act for you if you become incapacitated”*, which are common steps in estate planning checklists[\[48\]](https://www.bankrate.com/retirement/estate-planning-checklist/#:~:text=Plan%20www,See%20if%20a).

The app should make clear it’s *not* creating these documents (disclaimer: *“Affluvia is not a law firm”* etc.), but it strongly can encourage the user to complete them, possibly in consultation with an attorney. Since the prompt says no external tools or professionals, we won’t integrate with attorney networks, but we can still advise: *“Work with an estate planning attorney to draft missing documents.”* The goal is to ensure the user is aware of these critical non-financial tasks.

**3\. Task Status and Reminders:** We can add functionality to mark tasks as completed (the estatePlan documents entries already have a status, e.g., 'executed'[\[49\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L312-L320)). If something is not executed, it could be marked “pending” or “not started”. We could allow the user to set a target date (like “plan to draft will by Q4 2025”) and send reminders. Estate planning is often procrastinated, so gentle nudges via the app might help users actually follow through. Also, whenever a major life event is recorded in the profile (marriage, divorce, new child), the app can prompt *“Please review and update your estate plan documents/beneficiaries.”* These align with professional advice that estate plans should be revisited after life events[\[50\]](https://www.brightonjones.com/blog/basic-estate-planning/#:~:text=intentions%20and%20preserves%20any%20trust,planning).

**4\. State-Specific Considerations:** Since our app is U.S.-wide, the checklist might vary by state. For example, community property states may have different implications for wills/trusts, some states recognize transfer-on-death deeds for real estate, etc. We may not get too granular, but we can incorporate a few state-specific notes. E.g., if the profile state is Florida, mention the state has no estate tax but has homestead laws affecting transfers; if the state is California, note the probate process costs and why a living trust is common there to avoid probate. This level of detail shows thoughtfulness and educates users why they might need certain tools given their state’s laws.

In essence, the **Estate Checklist** feature transforms Affluvia’s estate planning from a pure number-cruncher to a *practical planning assistant*. It leverages CFP/attorney best practices by ensuring all the non-quantitative pieces (documents, titling, beneficiary alignment) are addressed. This helps *“ensure the client’s wishes are realized and legacy protected”*[\[51\]](https://www.brightonjones.com/blog/basic-estate-planning/#:~:text=Many%20people%20focus%20solely%20on,realized%20and%20legacy%20is%20protected) beyond just the calculations.

## Life Insurance and Liquidity Planning

**1\. Analyze Estate Liquidity Needs:** A key question for high-net-worth estates is: *Will there be enough liquid assets to pay estate taxes and other costs, or will heirs have to sell illiquid assets?* Affluvia already computes a simplified **liquidity gap** metric – assuming 20% of the estate is liquid and requiring 110% of tax in liquidity by default[\[52\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L208-L216). We will build on this by making the liquidity analysis more visible and customizable. For example, if our calculation shows “Liquidity Gap \= $500k” (meaning the estate might be short $500k to comfortably cover taxes/expenses), we will highlight that in the results.

**2\. Life Insurance Needs Recommendation:** If a liquidity gap exists (or if the user has significant illiquid wealth like real estate or a business), the app should recommend considering life insurance to fill that gap. This is a classic estate planning strategy: use life insurance proceeds to pay estate taxes or to equalize inheritances. RightCapital’s guidance mentions *“determine life insurance needs for each client based on future goals and expenses of survivors… compare current coverage vs. proposed coverage”*[\[53\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=Plan%20for%20the%20unexpected). Similarly, MoneyGuide provides life insurance needs analysis integrated with planning[\[54\]](https://www.moneyguidepro.com/ifa/home/faqs#:~:text=Insurance%20Needs%20Analysis).

In Affluvia, we can have the estate module answer: *“How much life insurance would be needed to cover estate taxes (or provide for dependents)?”* We would take the liquidity gap or another target (like ensuring a spouse/child has certain funds) as the needed coverage. If the user already has life insurance, we see how far it goes. For example: *“Projected estate tax \= $2M, current liquid assets available \= $1M, shortfall \= $1M. You may consider a $1M life insurance policy (owned by an ILIT to keep it out of the estate) so that heirs won’t have to sell assets to pay taxes[\[52\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L208-L216).”*

We will add a section in the estate recommendations output for *Insurance Planning*: listing any existing policies (from the profile) and whether they are projected to cover needs. If the user has no estate tax due but has young children or a non-working spouse, we could still mention life insurance for income replacement (though that crosses into general insurance planning, which might already exist in the app’s insurance module). For estate purposes, focus on wealth transfer: second-to-die policies are common for estate liquidity – we might educate the user on that if relevant: *“A survivorship life insurance policy (covering both spouses, paying out on second death) can be cost-effective in providing funds for estate settlement and legacy.”*

**3\. Long-Term Care and Disability (ancillary):** While not directly estate, planning for long-term care can protect the estate from being spent down. Some comprehensive plans mention this. RightCapital’s features include adding long-term care, etc., under protecting wealth[\[55\]](https://www.rightcapital.com/features/#:~:text=RightCapital%20www,term%20care). We might cross-reference Affluvia’s retirement or insurance sections for LTC planning. In estate recommendations, a note could be: *“Have you planned for potential long-term care expenses? Extended care needs could erode the assets you intend to leave heirs.”* and then direct to an LTC analysis if available. This ensures the estate plan isn’t made in isolation of end-of-life care planning.

**4\. Business Succession Planning:** If the user is a business owner (the profile likely has business assets field), estate planning for business is critical (who inherits it, do they have liquidity to keep it running, or plans to sell). While an in-depth business succession module might be outside scope, at least we should prompt: *“If you have a closely-held business, ensure you have a succession or buy-sell agreement in place. Consider how to fairly divide business vs other assets among heirs.”* This ties into estate liquidity too – sometimes insurance is used to buy out a deceased owner’s share. We can integrate such hints if businessInterests asset exists in profile. This aligns with comprehensive planning thinking (not leaving any big gap in advice).

By including insurance and liquidity considerations, Affluvia’s estate module will embody the principle that estate planning isn’t just about minimizing taxes, but also about **ensuring the plan is practical and provides for beneficiaries without undue burden**. It echoes what estate lawyers often advise: have liquidity for taxes/expenses, and use insurance strategically as needed.

## User Experience: Reports and Usability Considerations

All these advanced features must be delivered in a **clear, logically organized interface** to be effective (per the user’s formatting guidelines and general UX best practices). Some key points for UX:

* **Organized Sections:** Use primary subheadings in the app interface for each aspect: *Overview*, *Analysis & Tax*, *Strategies*, *Beneficiaries*, *Documents & Tasks*, *Recommendations*. This way a user can navigate the estate plan module easily, similar to how we’ve organized this report. For example, an **Estate Overview** card can summarize net worth, projected estate value at death, and basic tax outcome (net to heirs). Then an **Estate Analysis Details** section can break down taxes by federal/state and show charts. A **Strategies** section allows input toggles for trusts/gifts and shows scenario results. **Beneficiaries & Flow** for the distribution visuals. **Documents & Checklist** for tasks. And finally, a **Recommendations** summary that in plain language lists action items (e.g., “Your estate is projected to owe $X in taxes – consider \[specific strategy\]. You have no will on file – we recommend creating one. Update beneficiaries on account Y,” etc.).

* **Short, digestible information:** Avoid overwhelming the user with walls of text or numbers. We will present critical figures in bold or highlight (e.g., Net to Heirs, Total Tax) and use tooltips or expandable sections for detailed assumptions. Each section can have a brief explanatory paragraph (3-4 sentences) and then maybe a link to “Learn more about \[topic\]” if they want deeper education. Keeping text concise and segmented aligns with good client communication (and the instruction to keep paragraphs short for readability).

* **Citations/References (for user trust):** In a client-facing app, we obviously won’t cite sources like we do here, but we should ensure the calculations and recommendations are credible. Internally, we’ve based them on known rules (Kitces reports, IRS tables, etc.). We could consider providing a “Methodology” or “Assumption” popup where advanced users can see things like “We assume 40% top federal estate tax rate[\[19\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L188-L196), \[State\] estate tax per state law of X[\[16\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L60-L67), etc.”, basically justifying our numbers. This can increase trust in the software’s output.

* **Customization:** Each client’s situation is unique, so allow customization of assumptions: e.g., user can override the default year of death (longevity) if they have a specific age in mind, change the assumed growth rate if not using the retirement link, toggle whether spouse is treated as US citizen or not (non-citizen spouses don’t get the unlimited marital deduction without special trust, but that’s a niche case – could be a note if profile indicates non-citizen). The principle is to be thorough but not cumbersome: maybe hide advanced assumptions under an “Advanced Settings” accordion that advisors can tweak.

* **Mobile/Print-Friendly Reports:** Advisors often provide estate planning results in reports to clients. We should ensure the output can be exported as a clean PDF or printed, with the flowchart and key tables. MoneyGuide and others have “Estate Planning Reports”[\[56\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=,flowcharts) – we can create a nicely formatted report that includes the estate flow diagram, the tax summary, the checklist status, and recommendations. This report should be written in a client-friendly narrative (which could be templated, basically translating the on-screen numbers to sentences: e.g., “At age 90, your estate is projected to be $8 million. Federal estate tax of $X would apply, leaving $Y to your beneficiaries. We recommend the following steps…”, etc.). Given the user’s emphasis on readability and format, generating a **well-structured estate plan report** could be a feature that sets Affluvia apart for advisor users.

## Ongoing Updates and Future Enhancements

Estate planning requirements and laws will continue to evolve (for instance, the scheduled reduction of the federal exemption in 2026, potential law changes thereafter, inflation adjustments, etc.). We will set up a process to **update the tax law parameters** annually (or as laws change) – e.g., new IRS exemption amounts, state law changes. Affluvia’s system architecture, as noted in design docs, is built with legislative adaptability in mind[\[14\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/roth_conversion_algorithm.md#L41-L50). We’ll leverage that to quickly implement updates so that the advice remains current. For example, if Congress changes estate tax laws, we can update the backend config and the calculations will automatically reflect it. We should also keep an eye on the Secure Act changes (like Secure 2.0) that affect inherited retirement accounts, as mentioned in CFP discussions[\[57\]](https://www.brightonjones.com/blog/basic-estate-planning/#:~:text=Evaluate%20the%20composition%20of%20your,being%20of%20your%20beneficiaries), to ensure our advice around IRA inheritance stays accurate (perhaps include a note: “Under current law, your heirs will have to withdraw inherited IRAs within 10 years, but your Roth IRA can be withdrawn tax-free.”).

Another area for future enhancement is **collaboration and sharing**. Perhaps in a later phase, allow clients to share the estate plan output with their attorney or family members securely. This could facilitate communication especially if the app is used in advisory practice.

Finally, **user feedback integration**: As we roll out these features, we should gather how both advisors and end-users interact with the estate module. If they find certain information confusing or additional features needed (maybe some want more advanced trust options, or some want a simpler view), we can refine accordingly. Estate planning can be very complex, so striking the right balance in the UI between simplicity for general users and depth for advanced cases will be a continuous improvement process.

## Conclusion and Implementation Roadmap

Implementing the comprehensive estate planning section will involve **several development workstreams in parallel**:

1. **Data Integration Backend:** Connect retirement simulation outputs to estate calculations (ensure endpoint to fetch projected assets at death, modify estate-scenario-calculator to use dynamic input instead of fixed growth). Test with various scenarios to verify accuracy.

2. **UI/UX Development:** Design the new estate planning interface with the sections described (analysis, strategies, beneficiaries, etc.). Create components for the flowchart visualization and charts for tax breakdown. Ensure mobile compatibility and that the layout is clean and skimmable (using headings, bullet points for recommendations, etc., per user formatting guidelines).

3. **Feature Logic:** Implement trust and gifting strategy toggles and calculations. Expand state tax coverage and any needed inheritance tax logic. Incorporate life insurance needs calc (maybe reuse insurance module functions if available, or create a simple formula based on gap).

4. **Checklist & Storage:** Build the document checklist UI, allow user updates (e.g., mark a document as completed and upload file if desired). Possibly integrate a secure file storage for documents (could reuse an existing “Vault” if Affluvia has one for other documents). Add notifications or reminders as needed.

5. **Testing & Validation:** Validate results against known cases (for example, test an estate well under exemption – should show zero tax; test a $30M estate in a state like NY – check calculations vs manual; test scenarios with trust to ensure tax difference matches expectation). Also, maybe have a CFP or estate attorney review the recommendations phrasing for compliance/accuracy.

6. **Research & Continuous Updates:** Keep an eye on competitors and legal changes. For instance, RightCapital recently expanded trust options – we should periodically review what professional tools are adding (e.g., if “digital estate planning integration” becomes trend, or new planning techniques). Also monitor user feedback to polish the module.

By tackling these steps, Affluvia will transform its estate planning section from a static checklist of current assets into a **dynamic, scenario-driven, and educational estate planning solution**. This will help users not only see what happens if they pass away, but actively plan *how to shape that outcome* – whether it’s maximizing legacy to heirs or charity, minimizing taxes, or simply ensuring their family is taken care of with the right documents and resources. In alignment with both fintech best practices and traditional estate planning principles, this comprehensive approach will significantly enhance the value of Affluvia for all kinds of users, across all U.S. states, empowering them to secure their legacy and integrate it seamlessly with their overall financial plan.

## Sources

* Affluvia codebase (current estate planning logic and data structures)[\[4\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L289-L298)[\[8\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L154-L162)[\[6\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L310-L318)[\[7\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L350-L358)

* RightCapital – Estate planning features and use cases[\[40\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=Visualize%20the%20flow%20of%20estate,assets)[\[27\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=Over%20the%20last%20few%20years%2C,changes%20to%20retirement%20income%20stability)[\[13\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=Maximize%20tax%20efficiencies)[\[47\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=It%20is%20important%20for%20clients,securely%20within%20RightCapital%E2%80%99s%20Vault%20feature)

* Envestnet MoneyGuide – Estate planning integration and strategy impacts[\[9\]\[38\]](https://www.moneyguidepro.com/ifa/home/faqs#:~:text=,will%20affect%20the%20Goal%20Plan)

* eMoney Advisor – Estate planning capabilities (document vault, flowcharts, scenario modeling)[\[58\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=Key%20Estate%20Planning%20Features)

* Industry overview – Estate planning software comparison (key features to prioritize)[\[59\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=Key%20Estate%20Planning%20Features)[\[10\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=,visualizations)[\[60\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=Key%20Estate%20Planning%20Features)

* CFP/Estate Attorney insights – Importance of beneficiary updates, asset titling, and adapting to law changes[\[42\]](https://www.brightonjones.com/blog/basic-estate-planning/#:~:text=)[\[57\]](https://www.brightonjones.com/blog/basic-estate-planning/#:~:text=Evaluate%20the%20composition%20of%20your,being%20of%20your%20beneficiaries)

* Affluvia design docs – Consideration for tax law changes and system assumptions[\[14\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/roth_conversion_algorithm.md#L41-L50)[\[15\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/roth_conversion_algorithm.md#L51-L54)

---

[\[1\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=According%20to%20the%20Kitces%20Report,respondents%20handling%20this%20service%20internally) [\[2\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=RightCapital) [\[3\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=eMoney) [\[10\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=,visualizations) [\[25\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=,charts%20and%20diagrams%20for%20clients) [\[26\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=Key%20Estate%20Planning%20Features) [\[56\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=,flowcharts) [\[58\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=Key%20Estate%20Planning%20Features) [\[59\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=Key%20Estate%20Planning%20Features) [\[60\]](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/#:~:text=Key%20Estate%20Planning%20Features) Estate Planning Software For Financial Advisors: 2025 Guide

[https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/](https://www.rightcapital.com/blog/estate-planning-software-for-financial-advisors/)

[\[4\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L289-L298) [\[5\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L301-L308) [\[6\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L310-L318) [\[7\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L350-L358) [\[31\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L318-L326) [\[36\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L227-L237) [\[37\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L244-L253) [\[46\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L328-L336) [\[49\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts#L312-L320) estate-planning.service.ts

[https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/services/estate-planning.service.ts)

[\[8\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L154-L162) [\[12\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L182-L190) [\[16\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L60-L67) [\[17\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L86-L94) [\[18\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L19-L28) [\[19\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L188-L196) [\[20\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L56-L64) [\[21\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L108-L115) [\[22\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L158-L166) [\[23\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L230-L239) [\[24\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L240-L249) [\[29\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L164-L172) [\[52\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts#L208-L216) estate-calculations.ts

[https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/lib/estate-calculations.ts)

[\[9\]](https://www.moneyguidepro.com/ifa/home/faqs#:~:text=,will%20affect%20the%20Goal%20Plan) [\[28\]](https://www.moneyguidepro.com/ifa/home/faqs#:~:text=,will%20affect%20the%20Goal%20Plan) [\[35\]](https://www.moneyguidepro.com/ifa/home/faqs#:~:text=,will%20affect%20the%20Goal%20Plan) [\[38\]](https://www.moneyguidepro.com/ifa/home/faqs#:~:text=,will%20affect%20the%20Goal%20Plan) [\[54\]](https://www.moneyguidepro.com/ifa/home/faqs#:~:text=Insurance%20Needs%20Analysis) Envestnet | MoneyGuide \- Financial Planning Software

[https://www.moneyguidepro.com/ifa/home/faqs](https://www.moneyguidepro.com/ifa/home/faqs)

[\[11\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=flow%20from%20the%20client%20to,the%20amount%20received%20by%20heirs) [\[13\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=Maximize%20tax%20efficiencies) [\[27\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=Over%20the%20last%20few%20years%2C,changes%20to%20retirement%20income%20stability) [\[30\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=Support%20important%20causes) [\[34\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=We%20are%20big%20fans%20of,the%20amount%20received%20by%20heirs) [\[40\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=Visualize%20the%20flow%20of%20estate,assets) [\[41\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=Families%20are%20always%20changing%20so,updates%20within%20the%20beneficiary%20section) [\[47\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=It%20is%20important%20for%20clients,securely%20within%20RightCapital%E2%80%99s%20Vault%20feature) [\[53\]](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/#:~:text=Plan%20for%20the%20unexpected) How Advisors Can Add Value for High-Net-Worth Clients

[https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/](https://www.rightcapital.com/blog/add-value-for-high-net-worth-clients/)

[\[14\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/roth_conversion_algorithm.md#L41-L50) [\[15\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/roth_conversion_algorithm.md#L51-L54) roth\_conversion\_algorithm.md

[https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/roth\_conversion\_algorithm.md](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/roth_conversion_algorithm.md)

[\[32\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/components/estate/estate-overview.tsx#L112-L121) [\[33\]](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/components/estate/estate-overview.tsx#L124-L132) estate-overview.tsx

[https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/components/estate/estate-overview.tsx](https://github.com/bs3537/affluvia/blob/4a15b7455f81a798872278e97de0c9122d462031/client/src/components/estate/estate-overview.tsx)

[\[39\]](https://emoneyadvisor.com/blog/product_info/emoney-estate-planning-functionality/#:~:text=heirs%20or%20charity,Estate%20Planning%20Functionality) \[PDF\] Estate Planning Functionality \- eMoney Advisor

[https://emoneyadvisor.com/blog/product\_info/emoney-estate-planning-functionality/](https://emoneyadvisor.com/blog/product_info/emoney-estate-planning-functionality/)

[\[42\]](https://www.brightonjones.com/blog/basic-estate-planning/#:~:text=) [\[43\]](https://www.brightonjones.com/blog/basic-estate-planning/#:~:text=To%20avoid%20discrepancies%20and%20ensure,and%20preserves%20any%20trust%20planning) [\[44\]](https://www.brightonjones.com/blog/basic-estate-planning/#:~:text=) [\[45\]](https://www.brightonjones.com/blog/basic-estate-planning/#:~:text=Failing%20to%20retitle%20these%20assets,for%20future%20generations%20is%20essential) [\[50\]](https://www.brightonjones.com/blog/basic-estate-planning/#:~:text=intentions%20and%20preserves%20any%20trust,planning) [\[51\]](https://www.brightonjones.com/blog/basic-estate-planning/#:~:text=Many%20people%20focus%20solely%20on,realized%20and%20legacy%20is%20protected) [\[57\]](https://www.brightonjones.com/blog/basic-estate-planning/#:~:text=Evaluate%20the%20composition%20of%20your,being%20of%20your%20beneficiaries) Basic Estate Planning: Beyond Signing Papers

[https://www.brightonjones.com/blog/basic-estate-planning/](https://www.brightonjones.com/blog/basic-estate-planning/)

[\[48\]](https://www.bankrate.com/retirement/estate-planning-checklist/#:~:text=Plan%20www,See%20if%20a) Estate Planning Checklist: 7 Key Steps To Making A Successful Plan

[https://www.bankrate.com/retirement/estate-planning-checklist/](https://www.bankrate.com/retirement/estate-planning-checklist/)

[\[55\]](https://www.rightcapital.com/features/#:~:text=RightCapital%20www,term%20care) Modern Features for Today's Financial Advisors \- RightCapital

[https://www.rightcapital.com/features/](https://www.rightcapital.com/features/)